// code is originally from https://github.com/AnAppAMonth/linewrap

// Presets
var presetMap = {
  'html': {
    skipScheme: 'html',
    lineBreakScheme: 'html',
    whitespace: 'collapse'
  }
}

// lineBreak Schemes
var brPat = /<\s*br(?:[\s/]*|\s[^>]*)>/gi
var lineBreakSchemeMap = {
  'unix': [/\n/g, '\n'],
  'dos': [/\r\n/g, '\r\n'],
  'mac': [/\r/g, '\r'],
  'html': [brPat, '<br>'],
  'xhtml': [brPat, '<br/>']
}

// skip Schemes
var skipSchemeMap = {
  'ansi-color': /\x1B\[[^m]*m/g,
  'html': /<[^>]*>/g,
  'bbcode': /\[[^]]*\]/g
}

var modeMap = {
  'soft': 1,
  'hard': 1
}

var wsMap = {
  'collapse': 1,
  'default': 1,
  'line': 1,
  'all': 1
}

var rlbMap = {
  'all': 1,
  'multi': 1,
  'none': 1
}
var rlbSMPat = /([sm])(\d+)/

var escapePat = /[-/\\^$*+?.()|[\]{}]/g
function escapeRegExp (s) {
  return s.replace(escapePat, '\\$&')
}

var linewrap = module.exports = function 